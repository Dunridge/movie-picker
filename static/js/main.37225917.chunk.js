(this["webpackJsonpmovie-picker"]=this["webpackJsonpmovie-picker"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/parallax-movies-bg.b3666bd1.jpg"},20:function(e,t,a){e.exports=a.p+"static/media/blockbuster-movies-1.38615a21.jpg"},21:function(e,t,a){e.exports=a.p+"static/media/classic-movies.18a52d27.jpg"},22:function(e,t,a){e.exports=a.p+"static/media/drama-movies.ba36325c.jpg"},24:function(e,t,a){e.exports=a(51)},29:function(e,t,a){},30:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(19),c=a.n(l),o=(a(29),a(23)),s=a(1),r=a(2),m=a(4),u=a(3),d=a(5),p=(a(30),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={willWatch:!1},e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=t.removeMovie,l=t.addMovieToWillWatch,c=t.removeMovieFromWillWatch;return i.a.createElement("div",{className:"card"},i.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(a.backdrop_path||a.poster_path),alt:"",className:"card-img-top responsive-img"}),i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"card-title"},a.title),i.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},i.a.createElement("p",{className:"mb-0"},"Rating ",a.vote_average),this.state.willWatch?i.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){e.setState({willWatch:!1}),c(a)}},"Remove"):i.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){e.setState({willWatch:!0}),l(a)}},"Add")),i.a.createElement("button",{onClick:function(){n(a)}},"Delete movie")))}}]),t}(n.Component)),v=(a(31),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){console.log("WillReceiveProps"),console.log("nextProps sort_by: ",e.sort_by),console.log("nextState sort_by: ",this.props.sort_by)}},{key:"shouldComponentUpdate",value:function(e,t){return e.sort_by!==this.props.sort_by}},{key:"render",value:function(){var e=function(e){return function(){l(e)}},t=function(e){return"nav-link ".concat(n===e?"active":"")},a=this.props,n=a.sort_by,l=a.updateSortBy;return i.a.createElement("div",null,i.a.createElement("ul",{className:"tabs nav nav-pills"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("div",{className:t("popularity.desc"),onClick:e("popularity.desc")},"Popularity desc")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("div",{className:t("revenue.desc"),onClick:e("revenue.desc")},"Revenue desc")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("div",{className:t("vote_average.desc"),onClick:e("vote_average.desc")},"Vote average"))))}}]),t}(n.Component)),g=function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,l=[],c=1;c<Math.ceil(a/t);c++)l.push(c);return i.a.createElement("nav",{className:"white"},i.a.createElement("ul",{className:"pagination"},l.map((function(e){return i.a.createElement("li",{key:e,className:"page-item"},i.a.createElement("a",{onClick:function(){return n(e)},className:"page-link"},e))}))))},h=function(e){return i.a.createElement("nav",{className:"nav-wrapper solid white"},i.a.createElement("div",{className:"container"},i.a.createElement("a",{className:"brand-logo black-text"},"MoviePicker"),i.a.createElement("div",{className:"right"},i.a.createElement("p",{className:"black-text"},"Will watch: ",e.moviesWillWatch))))},E=function(){return i.a.createElement("footer",{class:"page-footer grey darken-3"},i.a.createElement("div",{class:"container"},i.a.createElement("div",{class:"row"},i.a.createElement("div",{class:"col s12 l6"},i.a.createElement("h5",null,"About Me"),i.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequuntur, quos consectetur doloremque quam odio aut repellendus blanditiis, pariatur sint quae porro corrupti numquam placeat adipisci modi dicta dolor iste reiciendis."),i.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequuntur, quos consectetur doloremque quam odio aut repellendus blanditiis, pariatur sint quae porro corrupti numquam placeat adipisci modi dicta dolor iste reiciendis.")),i.a.createElement("div",{class:"col s12 l4 offset-l2"},i.a.createElement("h5",null,"Connect"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"#",class:"grey-text text-lighten-3"},"Facebook")),i.a.createElement("li",null,i.a.createElement("a",{href:"#",class:"grey-text text-lighten-3"},"Twitter")),i.a.createElement("li",null,i.a.createElement("a",{href:"#",class:"grey-text text-lighten-3"},"LinkedIn")),i.a.createElement("li",null,i.a.createElement("a",{href:"#",class:"grey-text text-lighten-3"},"Instagram")))))),i.a.createElement("div",{class:"footer-copyright grey darken-4"},i.a.createElement("div",{class:"container center-align"},"\xa9 2020 Photo Ninja")))},f=a(20),b=a.n(f),y=a(21),N=a.n(y),W=a(22),k=a.n(W),x=a(11),j=a.n(x),_=a(9),w=function(){return i.a.createElement(_.Parallax,{className:"parallax-image",y:[0,0],x:[-100,50],tagOuter:"figure"},i.a.createElement("div",{className:"parallax-contain"},i.a.createElement("img",{src:j.a})))},M=function(){return i.a.createElement("div",{className:"container"},i.a.createElement("section",{className:"container section",id:"photos"},i.a.createElement("h4",null,"About us"),i.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae ratione asperiores, ab aliquid, sunt, obcaecati eveniet placeat quidem reprehenderit laudantium modi et delectus corrupti vel fuga ut at! Minus, unde?")),i.a.createElement("section",{class:"container section scrollspy",id:"photos"},i.a.createElement("div",{class:"row"},i.a.createElement("div",{class:"col s12 l4"},i.a.createElement("img",{src:b.a,class:"responsive-img materialboxed"})),i.a.createElement("div",{class:"col s12 l6 offset-l1"},i.a.createElement("h2",{class:"indigo-text text-darken-4"},"Blockbusters"),i.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nisi illum quis, cum corporis expedita ut magni magnam animi, cupiditate tempore omnis tenetur, exercitationem praesentium in dolorem veritatis. Mollitia, ad quam."))),i.a.createElement("div",{class:"row"},i.a.createElement("div",{class:"col s12 l4 push-l7 offset-l1"},i.a.createElement("img",{src:N.a,class:"responsive-img materialboxed"})),i.a.createElement("div",{class:"col s12 l6  pull-l5 right-align offset-l1"},i.a.createElement("h2",{class:"indigo-text text-darken-4"},"Classics"),i.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nisi illum quis, cum corporis expedita ut magni magnam animi, cupiditate tempore omnis tenetur, exercitationem praesentium in dolorem veritatis. Mollitia, ad quam."))),i.a.createElement("div",{class:"row"},i.a.createElement("div",{class:"col s12 l4"},i.a.createElement("img",{src:k.a,class:"responsive-img materialboxed"})),i.a.createElement("div",{class:"col s12 l6 offset-l1"},i.a.createElement("h2",{class:"indigo-text text-darken-4"},"Drama"),i.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nisi illum quis, cum corporis expedita ut magni magnam animi, cupiditate tempore omnis tenetur, exercitationem praesentium in dolorem veritatis. Mollitia, ad quam.")))),i.a.createElement(w,null))},O=(a(12),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).getMovies=function(){fetch("https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&sort_by=".concat(e.state.sort_by)).then((function(e){return console.log("then"),e.json()})).then((function(t){console.log("data: ",t),e.setState({movies:t.results})}))},e.handleDelete=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));console.log(a),e.setState({movies:a})},e.removeMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));console.log(a),e.setState({movies:a})},e.addMovieToWillWatch=function(t){console.log(t);var a=[].concat(Object(o.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a})},e.removeMovieFromWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:a})},e.updateSortBy=function(t){e.setState({sort_by:t})},e.setCurrentPage=function(t){e.setState({current_page:t}),console.log(e.state)},e.paginate=function(t){return e.setCurrentPage(t)},e.state={movies:[],moviesWillWatch:[],sort_by:"revenue.desc",current_page:1},console.log("constructor"),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){console.log("Did mount"),this.getMovies(),console.log("after fetch")}},{key:"componentDidUpdate",value:function(e,t){console.log("did update"),console.log("prev",e,t),console.log("this",this.props,this.state),t.sort_by!==this.state.sort_by&&(console.log("call api"),this.getMovies())}},{key:"render",value:function(){var e=this;return console.log("render",this.state.sort_by),i.a.createElement("div",null,i.a.createElement("div",{className:"container"},i.a.createElement(h,{moviesWillWatch:this.state.moviesWillWatch.length}),i.a.createElement(M,null)),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"row mb-4"},i.a.createElement("div",{className:"col-12"},i.a.createElement(v,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s12 l12"},this.state.movies.filter((function(t){if(1===e.state.current_page){if(e.state.movies.slice(0,5).includes(t))return!0}else if(2===e.state.current_page){if(e.state.movies.slice(6,11).includes(t))return!0}else if(3===e.state.current_page&&e.state.movies.slice(12,e.state.movies.length).includes(t))return!0})).map((function(t){return i.a.createElement("div",{className:"col-6 mb-4",key:t.id},i.a.createElement(p,{movie:t,removeMovie:e.removeMovie,addMovieToWillWatch:e.addMovieToWillWatch,removeMovieFromWillWatch:e.removeMovieFromWillWatch}))})))),i.a.createElement(g,{postsPerPage:6,totalPosts:this.state.movies.length,paginate:this.paginate})))),i.a.createElement(E,null))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(_.ParallaxProvider,null,i.a.createElement(O,null))}}]),t}(n.Component);c.a.render(i.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.37225917.chunk.js.map